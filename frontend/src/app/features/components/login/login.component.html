<!-- breadcrumb_section - start
================================================== -->

<p-toast></p-toast>
<section class="breadcrumb_section text-center clearfix">
  <div class="page_title_area has_overlay d-flex align-items-center clearfix"
       style="background-image: url('../../../../assets/images/breadcrumb/bg_09.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <br><br><br>
      <h1 class="page_title text-white mb-20">Login</h1>
    </div>
  </div>
  <div class="breadcrumb_nav clearfix" data-bg-color="#F2F2F2" style="background-color: #F2F2F2">
    <div class="container">
      <ul class="ul_li clearfix">
        <li><a [routerLink]="['/home']">Home</a></li>
        <li>Login</li>
      </ul>
    </div>
  </div>
</section>
<!-- breadcrumb_section - end
================================================== -->

<!-- register_section - start
================================================== -->
<section class="register_section sec_ptb_100 clearfix">
  <div class="container">

    <div style="background-color: #F2F2F2" class="register_card mb_60" data-aos="fade-up"
         data-aos-delay="100">
      <div class="row align-items-center">
        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
          <div class="reg_image">
            <img src="../../../../assets/images/about/login.png" alt="image_not_found">
          </div>
        </div>

        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
          <div class="reg_form">
            <h3 id="formTitle" class="form_title">LogIn:</h3>
            <p>
              Savings of up to 15% with our car rental solutions, global coverage and a dedicated customer team
            </p>
            <span class="new_account mb_15">Log In or <a [routerLink]="['/register']">Create an Account?</a></span>
            <form #signUpForm="ngForm">
              <!-- Username or email-->
              <div class="form_item  form-label-group input">
                <input #pseudoInput="ngModel"
                       [class.is-invalid]="pseudoInput.invalid && pseudoInput.touched"
                       [class.is-valid]="!(pseudoInput.invalid && pseudoInput.untouched)"
                       class="form-control" type="email" id="pseudo"
                       [(ngModel)]="pseudo" name="pseudo"
                       placeholder="Pseudonyme" required>
                <label for="pseudo">username or email</label>
                <small id="pseudoError" class="text-danger"
                       [class.d-none]="pseudoInput.valid || pseudoInput.untouched">
                  This field is required
                </small>
              </div>
              <!-- password -->
              <div class="form_item  form-label-group input">
                <input #passwordInput="ngModel"
                       [class.is-invalid]="passwordInput.invalid && passwordInput.touched"
                       [class.is-valid]="!(passwordInput.invalid && passwordInput.untouched)"
                       class="form-control" type="password" id="password"
                       [(ngModel)]="password" name="password"
                       placeholder="Mot de passe" required>
                <label for="password">password</label>
                <small id="passwordError" class="text-danger" [class.d-none]="passwordInput.valid ||
                       passwordInput.untouched">A password is required</small>
              </div>
              <button type="submit" id="submitBtn"
                      class="custom_btn carret bg_default_red text-uppercase"
                      (click)="onLoginSubmit()" [disabled]="signUpForm.form.invalid">Login
                <img src="../../../../assets/images/icons/icon_01.png" alt="icon_not_found"></button>
              <span style="float: right" class="reset_pass mb_15">
                <a (click)="displayResetPassword()">Forgot your password ?</a>
              </span>
            </form>
          </div>
        </div>

        <div style="width: 100%" class="row align-items-center" *ngIf="showResetPasswordSection">

          <hr>

          <!-- email -->
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item form-label-group input">
              <input #emailInput="ngModel"
                     pattern="^[aA-zZ0-9._%+-]+@[a-z0-9.-]+\.[aA-zZ]{2,4}$"
                     [class.is-invalid]="emailInput.invalid && emailInput.touched"
                     [class.is-valid]="!(emailInput.invalid && emailInput.untouched)"
                     class="form-control" type="email" id="inputEmail" placeholder="email"
                     [(ngModel)]="userEmail" name="email" required>
              <label for="inputEmail">email</label>
              <div *ngIf="emailInput.errors && (emailInput.invalid ||emailInput.touched)">
                <small *ngIf="emailInput.errors.pattern" id="emailInvalid" class="text-danger">
                  {{emailInput.value}} is not valid email
                </small>
                <small *ngIf="emailInput.errors.required && emailInput.touched"
                       id="emailRequired" class="text-danger">
                  This field is required
                </small>
              </div>
            </div>
          </div>

          <!-- email verify button-->
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item">
              <button type="submit" [disabled]="emailInput.errors || verifiedEmailKey" (click)="requestPasswordReset()"
                      class="custom_btn bg_default_red text-uppercase">Send
                <img src="../../../../assets/images/icons/icon_01.png" alt="icon_not_found"></button>
            </div>
          </div>

          <!-- verification key -->
          <div *ngIf="showResetPassword" class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item form-label-group input">
              <input class="form-control" type="text" id="verificationKey" maxlength="36"
                     [(ngModel)]="emailKey" name="verificationKey" placeholder="verification key" required>
              <label for="verificationKey">verification key</label>
            </div>
          </div>

          <!-- password -->
          <div *ngIf="showResetPassword" class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item form-label-group input">
              <input #newPasswordInput="ngModel"
                     class="form-control" type="password" id="newPassword" minlength="4" maxlength="100"
                     [(ngModel)]="newPassword" name="newPassword" placeholder="new password" required>
              <label for="newPassword">new password </label>
              <small *ngIf="newPasswordInput.errors?.minlength" class="text-danger"
                     [class.d-none]="newPasswordInput.valid ||
                       newPasswordInput.untouched">A password min length must 4
              </small>
              <small *ngIf="newPasswordInput.errors?.maxlength" class="text-danger"
                     [class.d-none]="newPasswordInput.valid ||
                       newPasswordInput.untouched">A password max length must 100
              </small>
            </div>
          </div>

          <!-- confirm password -->
          <div *ngIf="showResetPassword" class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item form-label-group input">
              <input #inputConfirmPassword="ngModel"
                     class="form-control" type="password" id="PasswordConfirm"
                     [(ngModel)]="confirmPassword" name="confirmPassword"
                     placeholder="confirm password">
              <label for="PasswordConfirm">confirm password</label>
              <small *ngIf="newPassword !== confirmPassword && inputConfirmPassword.touched"
                     id="passwordMatchError" class="text-danger">passwords don't match
              </small>
            </div>
          </div>

          <!-- reset button -->
          <div *ngIf="showResetPassword" class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="form_item">
              <button type="submit" [disabled]="!checkEmailKeyAndPassword() || completedPasswordReset"
                      (click)="completePasswordReset()"
                      class="custom_btn bg_default_red text-uppercase">reset
                <img src="../../../../assets/images/icons/icon_01.png" alt="icon_not_found"></button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
<!-- login_section - end
================================================== -->
